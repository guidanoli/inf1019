# Virtual Memory Simulator

The goal of this project is to implement a virtual memory simulator. Memory access will be simulated through files in which lines are composed of the physical address of the access and a character to determine whether the access is Read-Only or Read/Write. The simulator currently accepts the following page algorithms:

* Not Recently Used (NRU)
* Least Recently Used (LRU)
* Optimal Algorithm (NOVO, stands for *NEW* in Portuguese)

The implementation of each of those algorithms are based on the well-known "Modern Operating Systems" book by Andrew S. Tanenbaum & Hebert Bos.

## Getting Started

The following instructions will get you a copy of the project up and running on your local machine for development and testing purposes.

### Prerequisites

Have a machine running a POSIX operating system. :grin:

### Installing

Make use of the Makefile in your favour. These are the currently accepted targets:

``` bash
$ make [sim|tests|clear|clean]
```

* **sim** - generates simulator
* **tests** - generate tests
* **clear|clean** - removes files generated by compilation

## Running the tests

The tests modules test the modules according to its interfaces, thus - a black box testing paradigm. E.g:

``` c
// Power of two
assert(!is_power_of_two(0));
assert(is_power_of_two(1));
assert(is_power_of_two(2));
```

The tests all inherit the automatic test module interface, that helps with an enhanced and colourful log displaying not only the assertions but the code that generated the error and the line its located at on the test module. E.g:

``` bash
[SUCCESS] !is_power_of_two(0)
[SUCCESS] is_power_of_two(1)
[SUCCESS] is_power_of_two(2)
```

**Disclaimer:** All test source code and executables begin with *t.* and this prefix should be exclusive to these files!

## Executing

The simulator takes the following parameters:

``` bash
$ ./sim-virtual <algorithm> <log path> <page size> <total size> [-D]
```

* **algorithm** - one of the following: NRU, LRU, NOVO (case-sensitive)
* **log path** - path to log file (with format as descripted above)
* **page size** - size of page in KB (8K, 16K, 32K)
* **total size** - total size in memory in MB (1MB, 2MB, 4MB, 8MB, 16MB)
* **D flag** - run simulator on debug mode (iterative and verbose)

You can safely interrupt the program mid its execution with Ctrl+C. At the end of its execution, the program will prompt some statistics.

## Log files

Since the log files are quite large and I avoid adding large files to the repository folder, I decided to host it elsewhere. You can download the .zip file with the four log files on the following links. Be aware that if you want to run the script (getresults.sh), you must first give it executing permission (chmod +x getresults.sh), and have all the four log files on the folder root.

## Links

(Seibel (*course supervisor*))[http://139.82.24.35/seibel/hp/]
(Statement (*in Portuguese*))[https://drive.google.com/file/d/1fUyadkXQwtmSAcDa2FTxC0TYexYvmR2e/view?usp=sharing]
(Log files (*for testing*))[https://drive.google.com/file/d/1s7By6hcJJ8N41QByLZVRp0rr6gXxdhQl/view?usp=sharing]
